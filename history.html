<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Medical History</title>
<style>
  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #f3e5f5, #e1bee7); margin: 0; padding: 0; }
  header { background: #6a1b9a; color: white; padding: 15px; text-align: center; font-size: 1.5em; }
  nav { background: #3f51b5; padding: 10px; display: flex; justify-content: center; gap: 20px; }
  nav a { color: white; text-decoration: none; font-weight: bold; padding: 8px 12px; border-radius: 4px; }
  nav a:hover { background: rgba(255,255,255,0.2); }
  .container { max-width: 900px; margin: 30px auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  th, td { padding: 12px; border-bottom: 1px solid #ddd; text-align: left; }
  th { background: #ab47bc; color: white; }
  tr:hover { background-color: #f3e5f5; }
  .no-records { text-align: center; color: #777; margin-top: 20px; }
  .btn { background: #8e24aa; color: white; border: none; padding: 6px 10px; border-radius: 5px; cursor: pointer; text-decoration: none; display:inline-block; margin-top:5px; }
  .btn:hover { background: #6a1b9a; }
</style>
</head>
<body>
<header>My Medical History</header>
<nav>
  <a href="index.html">Home</a>
  <a href="doctors.html">Doctors</a>
  <a href="appointments.html">Appointments</a>
  <a href="profile.html">Profile</a>
  <a href="history.html">Medical History</a>
</nav>
<div class="container">
  <table id="historyTable">
    <thead>
      <tr>
        <th>Date</th>
        <th>Doctor / Patient</th>
        <th>Diagnosis</th>
        <th>Prescription</th>
        <th>Notes</th>
      </tr>
    </thead>
    <tbody>
      <!-- Records will be inserted here -->
    </tbody>
  </table>
  <p id="noRecords" class="no-records">No medical history found.</p>
</div>

<script>
  // Sample medical history data
  const sampleHistory = [
    {
      date: "2025-08-09",
      doctor: "Dr. Lee Ho",
      patientId: "kgpa123",
      diagnosis: "Stess",
      prescription: "Medicine B",
      notes: "Drink water and do meditation"
    }
  ];

  // Initialize localStorage if empty
  if (!localStorage.getItem('medicalHistory')) {
    localStorage.setItem('medicalHistory', JSON.stringify(sampleHistory));
  }

  // Get data from localStorage
  const medicalHistory = JSON.parse(localStorage.getItem('medicalHistory')) || [];
  const tableBody = document.querySelector('#historyTable tbody');
  const noRecords = document.getElementById('noRecords');

  if (medicalHistory.length === 0) {
    noRecords.style.display = 'block';
  } else {
    noRecords.style.display = 'none';
    medicalHistory.forEach(record => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${record.date}</td>
        <td>${record.doctor}</td>
        <td>${record.diagnosis}</td>
        <td>${record.prescription}</td>
        <td>${record.notes}</td>
      `;
      tableBody.appendChild(row);
    });
  }
</script>
</body>
</html>
